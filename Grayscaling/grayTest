#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision + 0;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x56236ba5eda0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x56236ba71750 .scope module, "test_rgb_to_grayscale" "test_rgb_to_grayscale" 3 9;
 .timescale 0 0;
v0x56236ba96f80_0 .var "CLK", 0 0;
v0x56236ba97040_0 .var "RST", 0 0;
v0x56236ba970e0_0 .var "SET", 0 0;
v0x56236ba971b0_0 .var "data_in", 0 1572863;
v0x56236ba97250_0 .var "data_out", 16777215 0;
v0x56236ba97330_0 .var/i "file_in", 31 0;
v0x56236ba97410_0 .var/i "file_out", 31 0;
v0x56236ba974f0_0 .var/i "i", 31 0;
v0x56236ba975d0_0 .var/i "j", 31 0;
v0x56236ba97740_0 .var "r24", 0 23;
v0x56236ba97820_0 .var "row_in", 6143 0;
v0x56236ba978e0_0 .net "row_out", 2047 0, L_0x56236ba979a0;  1 drivers
L_0x56236ba979a0 .part v0x56236ba96d60_0, 0, 2048;
S_0x56236ba718e0 .scope module, "grayscale_UUT" "grayscale" 3 26, 4 5 0, S_0x56236ba71750;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 6144 "row_in";
    .port_info 3 /OUTPUT 6144 "row_out";
v0x56236ba68fa0_0 .var "blue", 7 0;
v0x56236ba96810_0 .net "clk", 0 0, v0x56236ba96f80_0;  1 drivers
v0x56236ba968d0_0 .var "gray", 15 0;
v0x56236ba96990_0 .var "green", 7 0;
v0x56236ba96a70_0 .var/i "i", 31 0;
v0x56236ba96ba0_0 .var "red", 7 0;
v0x56236ba96c80_0 .net "row_in", 6143 0, v0x56236ba97820_0;  1 drivers
v0x56236ba96d60_0 .var "row_out", 6143 0;
v0x56236ba96e40_0 .net "rst", 0 0, v0x56236ba97040_0;  1 drivers
E_0x56236ba6d7c0 .event posedge, v0x56236ba96e40_0, v0x56236ba96810_0;
    .scope S_0x56236ba718e0;
T_0 ;
    %wait E_0x56236ba6d7c0;
    %load/vec4 v0x56236ba96e40_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.0, 8;
    %pushi/vec4 0, 0, 6144;
    %assign/vec4 v0x56236ba96d60_0, 0;
    %jmp T_0.1;
T_0.0 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x56236ba96a70_0, 0, 32;
T_0.2 ;
    %load/vec4 v0x56236ba96a70_0;
    %cmpi/s 256, 0, 32;
    %jmp/0xz T_0.3, 5;
    %load/vec4 v0x56236ba96c80_0;
    %load/vec4 v0x56236ba96a70_0;
    %muli 24, 0, 32;
    %part/s 8;
    %store/vec4 v0x56236ba96ba0_0, 0, 8;
    %load/vec4 v0x56236ba96c80_0;
    %load/vec4 v0x56236ba96a70_0;
    %muli 24, 0, 32;
    %addi 8, 0, 32;
    %part/s 8;
    %store/vec4 v0x56236ba96990_0, 0, 8;
    %load/vec4 v0x56236ba96c80_0;
    %load/vec4 v0x56236ba96a70_0;
    %muli 24, 0, 32;
    %addi 16, 0, 32;
    %part/s 8;
    %store/vec4 v0x56236ba68fa0_0, 0, 8;
    %load/vec4 v0x56236ba96ba0_0;
    %pad/u 32;
    %muli 299, 0, 32;
    %load/vec4 v0x56236ba96990_0;
    %pad/u 32;
    %muli 587, 0, 32;
    %add;
    %load/vec4 v0x56236ba68fa0_0;
    %pad/u 32;
    %muli 114, 0, 32;
    %add;
    %pushi/vec4 1000, 0, 32;
    %div;
    %pad/u 16;
    %store/vec4 v0x56236ba968d0_0, 0, 16;
    %load/vec4 v0x56236ba968d0_0;
    %parti/s 8, 0, 2;
    %load/vec4 v0x56236ba96a70_0;
    %muli 8, 0, 32;
    %ix/vec4/s 4;
    %store/vec4 v0x56236ba96d60_0, 4, 8;
    %load/vec4 v0x56236ba96a70_0;
    %addi 1, 0, 32;
    %store/vec4 v0x56236ba96a70_0, 0, 32;
    %jmp T_0.2;
T_0.3 ;
T_0.1 ;
    %jmp T_0;
    .thread T_0;
    .scope S_0x56236ba71750;
T_1 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x56236ba96f80_0, 0, 1;
    %delay 5, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba96f80_0, 0, 1;
    %delay 5, 0;
    %jmp T_1;
    .thread T_1;
    .scope S_0x56236ba71750;
T_2 ;
    %vpi_func 3 46 "$fopen" 32, "startraw.raw", "rb" {0 0 0};
    %store/vec4 v0x56236ba97330_0, 0, 32;
    %vpi_func 3 47 "$fopen" 32, "startgrayraw.raw", "wb" {0 0 0};
    %store/vec4 v0x56236ba97410_0, 0, 32;
    %load/vec4 v0x56236ba97330_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_2.0, 4;
    %vpi_call/w 3 51 "$display", "Error: Could not open input file" {0 0 0};
    %vpi_call/w 3 52 "$finish" {0 0 0};
T_2.0 ;
    %vpi_call/w 3 56 "$fread", v0x56236ba971b0_0, v0x56236ba97330_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x56236ba970e0_0, 0, 1;
    %load/vec4 v0x56236ba971b0_0;
    %parti/s 6144, 1566720, 22;
    %store/vec4 v0x56236ba97820_0, 0, 6144;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba97040_0, 0, 1;
    %delay 5, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba970e0_0, 0, 1;
    %load/vec4 v0x56236ba971b0_0;
    %parti/s 6144, 1560576, 22;
    %store/vec4 v0x56236ba97820_0, 0, 6144;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba97040_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba970e0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x56236ba974f0_0, 0, 32;
T_2.2 ;
    %load/vec4 v0x56236ba974f0_0;
    %cmpi/s 256, 0, 32;
    %jmp/0xz T_2.3, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba970e0_0, 0, 1;
    %load/vec4 v0x56236ba971b0_0;
    %pushi/vec4 1566720, 0, 34;
    %pushi/vec4 12288, 0, 32;
    %load/vec4 v0x56236ba974f0_0;
    %muli 6144, 0, 32;
    %add;
    %pad/s 34;
    %sub;
    %part/s 6144;
    %store/vec4 v0x56236ba97820_0, 0, 6144;
    %delay 10, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x56236ba97040_0, 0, 1;
    %load/vec4 v0x56236ba978e0_0;
    %pad/u 16777216;
    %store/vec4 v0x56236ba97250_0, 0, 16777216;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x56236ba975d0_0, 0, 32;
T_2.4 ;
    %load/vec4 v0x56236ba975d0_0;
    %cmpi/s 256, 0, 32;
    %jmp/0xz T_2.5, 5;
    %load/vec4 v0x56236ba97250_0;
    %pushi/vec4 6120, 0, 32;
    %load/vec4 v0x56236ba975d0_0;
    %muli 24, 0, 32;
    %sub;
    %part/s 24;
    %store/vec4 v0x56236ba97740_0, 0, 24;
    %load/vec4 v0x56236ba97250_0;
    %load/vec4 v0x56236ba975d0_0;
    %muli 256, 0, 32;
    %muli 8, 0, 32;
    %load/vec4 v0x56236ba974f0_0;
    %muli 8, 0, 32;
    %add;
    %part/s 8;
    %vpi_call/w 3 83 "$fwrite", v0x56236ba97410_0, "%c", S<0,vec4,u8> {1 0 0};
    %load/vec4 v0x56236ba975d0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x56236ba975d0_0, 0, 32;
    %jmp T_2.4;
T_2.5 ;
    %load/vec4 v0x56236ba974f0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x56236ba974f0_0, 0, 32;
    %jmp T_2.2;
T_2.3 ;
    %vpi_call/w 3 95 "$fclose", v0x56236ba97330_0 {0 0 0};
    %vpi_call/w 3 96 "$fclose", v0x56236ba97410_0 {0 0 0};
    %vpi_call/w 3 99 "$stop" {0 0 0};
    %end;
    .thread T_2;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "grayscale_tb.v";
    "./grayscale.v";
